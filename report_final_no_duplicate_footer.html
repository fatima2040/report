
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØªÙ‚Ø±ÙŠØ± Ø¨Ø±Ù†Ø§Ù…Ø¬</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      background-color: #f4f4f4;
      direction: rtl;
    }
    .container {
      width: 210mm;
      min-height: 297mm;
      margin: auto;
      background: white;
      padding: 20px;
      box-sizing: border-box;
      position: relative;
    }
    .header img, .footer img {
      width: 100%;
      height: auto;
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    label {
      display: block;
      font-weight: bold;
      margin-top: 15px;
      font-size: 16px;
    }
    .value, select, input[type="file"], input[type="text"] {
      background: #f9f9f9;
      border: 1px solid #ccc;
      padding: 10px;
      font-size: 15px;
      margin-top: 5px;
      width: 100%;
      box-sizing: border-box;
    }
    .images {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
    }
    .images img {
      width: 48%;
      height: auto;
      border: 1px solid #ccc;
      padding: 5px;
    }
    .btn {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 12px 25px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
      display: block;
      margin: 30px auto 10px;
    }
  </style>
</head>
<body>
  <div class="container" id="report">
    <div class="header">
      <img src="header.png" alt="Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
    </div>

    <h2>ğŸ“‹ ØªÙ‚Ø±ÙŠØ± Ø¨Ø±Ù†Ø§Ù…Ø¬</h2>

    <label>ğŸ“ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù†Ø´Ø§Ø·:</label>
    <div class="value" id="title"></div>

    <label>ğŸ¯ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø¹Ø§Ù…:</label>
    <div class="value" id="generalGoal"></div>

    <label>ğŸ¨ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„ØªÙØµÙŠÙ„ÙŠ:</label>
    <div class="value" id="detailedGoal"></div>

    <label>ğŸ“ Ø§Ù„ÙˆØµÙ:</label>
    <div class="value" id="description"></div>

    <label>ğŸ§  Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙÙŠØ¯Ø§Øª ÙˆØ§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</label>
    <div class="value" id="audience"></div>

    <label>ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ†ÙÙŠØ°:</label>
    <div class="value" id="date"></div>

    <label>âœï¸ Ø§Ø³Ù… Ù…Ø¹Ø¯Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±:</label>
    <input type="text" id="authorInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§">

    <label>ğŸ“ Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯ (Ø§Ø®ØªØ§Ø±ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ±):</label>
    <select id="imageCount" onchange="renderImageInputs()">
      <option value="0">-- Ø§Ø®ØªØ§Ø±ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± --</option>
      <option value="1">1 ØµÙˆØ±Ø©</option>
      <option value="2">2 ØµÙˆØ±</option>
      <option value="3">3 ØµÙˆØ±</option>
      <option value="4">4 ØµÙˆØ±</option>
    </select>
    <div id="imageInputs"></div>
    <div class="images" id="previewContainer"></div>

    

    <div class="footer">

    </div>

    <button class="btn" onclick="generatePDF()">ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± PDF</button>
      <img src="footer.png" alt="ÙÙˆØªØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script>
    function fillDataFromURL() {
      const params = new URLSearchParams(window.location.search);
      document.getElementById("title").textContent = params.get("title") || "";
      document.getElementById("generalGoal").textContent = params.get("generalGoal") || "";
      document.getElementById("detailedGoal").textContent = params.get("detailedGoal") || "";
      document.getElementById("description").textContent = params.get("description") || "";
      document.getElementById("audience").textContent = params.get("audience") || "";
      document.getElementById("date").textContent = params.get("date") || "";
    }

    function renderImageInputs() {
      const count = parseInt(document.getElementById("imageCount").value);
      const imageInputsDiv = document.getElementById("imageInputs");
      const previewContainer = document.getElementById("previewContainer");
      imageInputsDiv.innerHTML = "";
      previewContainer.innerHTML = "";

      for (let i = 0; i < count; i++) {
        const input = document.createElement("input");
        input.type = "file";
        input.accept = "image/*";
        input.onchange = (event) => {
          const reader = new FileReader();
          reader.onload = function(e) {
            const img = document.createElement("img");
            img.src = e.target.result;
            previewContainer.appendChild(img);
          }
          reader.readAsDataURL(event.target.files[0]);
        }
        imageInputsDiv.appendChild(input);
      }
    }

    function generatePDF() {
      const authorName = document.getElementById("authorInput").value;
      const authorLabel = document.createElement("div");
      authorLabel.className = "value";
      authorLabel.textContent = authorName;
      document.getElementById("authorInput").replaceWith(authorLabel);

      const element = document.getElementById("report");
      html2pdf().from(element).save('ØªÙ‚Ø±ÙŠØ±_Ø¨Ø±Ù†Ø§Ù…Ø¬.pdf');
    }

    fillDataFromURL();
  </script>
</body>
</html>